# PushPush

### 동작 시현

![](/screenshot/pushpush.gif)

* 고전게임 푸시푸시를 안드로이드 기반으로 설계하고 구현
* Stage는 총 3단계까지 있으며, 모두 성공시 사용자에게 '종료'를 알리고 앱을 종료한다.

#### Map 클래스

* 게임맵에 대한 정보를 제공한다.
* 총 3개의 맵이 존재하고, 성공하면 다음 맵으로 이동한다.
* '0' 은 Empty상태인 블럭을 나타내고, '1'은 밀어서 움직일 수 있는 장애물을 의미한다.
* '9'은 비어있는 상자와 같은 개념으로 '1'을 밀어서 '9'의 공간을 모두 채우면 게임이 클리어된다.

````java
  int map[][][] = {
    {
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 1, 1, 1, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 9, 9, 9, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
    },
    {
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 1, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 9, 2, 2, 2, 2, 9, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 1, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
    },
    {
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {2, 0, 2, 2, 2, 2, 2, 2, 0, 0},
      {2, 0, 0, 0, 0, 0, 0, 2, 2, 2},
      {2, 2, 1, 2, 2, 2, 0, 0, 0, 2},
      {2, 0, 0, 0, 1, 0, 0, 1, 0, 2},
      {2, 0, 9, 9, 2, 0, 1, 0, 2, 2},
      {2, 2, 9, 9, 2, 0, 0, 0, 2, 0},
      {0, 0, 2, 2, 2, 2, 2, 2, 2, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0},
      {0, 0, 0, 0, 0, 0, 0, 0, 0, 0}
    }
  };
````

#### Stage 클래스

* 게임 전반적인 흐름을 제어한다.
* 사용자와 블럭의 좌표를 관리하며 게임 화면을 그려준다. 그래서 다른 클래스에 비해 복잡한 연산로직이 많이 들어있다.

* Block과 Grid를 그려주기 위해 Paint 인스턴스를 생성하고 값을 설정한다.
````java
// grid
gridPaint.setColor(Color.GRAY); // 사각형의 색
gridPaint.setStyle(Paint.Style.STROKE); // 사각형의 스타일
gridPaint.setStrokeWidth(1); // 선두께
// goal
goalPaint.setColor(Color.YELLOW);
// ok
okPaint.setColor(Color.BLUE);
// block
blockPaint.setColor(Color.GREEN);
// barrier
barrierPaint.setColor(Color.BLACK);
````

#### Player 클래스
* Player(사용자)의 좌표 값을 계산한다.
````java
  public void init() { x = 0; y = 0; }
  public void up() { y -= 1; }
  public void down() { y += 1; }
  public void left() { x -= 1; }
  public void right() { x += 1; }
````